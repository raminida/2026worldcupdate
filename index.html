<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 ÏõîÎìúÏªµ Ï°∞Î≥ÑÎ¶¨Í∑∏ ÏùºÏ†ï</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <!-- Flag Icons CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lipis/flag-icons@6.11.0/css/flag-icons.min.css"/>
    
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; background-color: #f3f4f6; }
        .korea-match { background-color: #eff6ff; border-left: 4px solid #3b82f6; }
        .korea-match-calendar { background-color: #dbeafe; border: 1px solid #3b82f6; color: #1e40af; font-weight: bold; }
        
        /* Unified Calendar Grid */
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background-color: #e5e7eb; /* Grid gap color */
            border: 1px solid #e5e7eb;
        }

        .calendar-header-cell {
            background-color: #f3f4f6;
            padding: 0.75rem;
            text-align: center;
            font-weight: 700;
            font-size: 0.875rem;
            color: #4b5563;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .calendar-day {
            background-color: white;
            min-height: 100px;
            padding: 0.5rem;
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #c7c7c7; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #a8a8a8; }

        .hidden-transition {
            display: none;
            opacity: 0;
        }
        .visible-transition {
            display: block;
            opacity: 1;
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .dimmed {
            opacity: 0.2;
            pointer-events: none;
        }
        
        /* Calendar Nav Buttons */
        .cal-nav-btn {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 9999px;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
        }
        .cal-nav-btn:hover { background: #f3f4f6; color: #3b82f6; }
        .cal-nav-btn:disabled { opacity: 0.3; cursor: not-allowed; }

        /* Flag Icon Fixes */
        .fi { width: 1.5em; height: 1.5em; background-size: contain; background-position: center; border-radius: 4px; box-shadow: 0 1px 2px rgba(0,0,0,0.1); }
        .match-flag { font-size: 24px; } 

    </style>
</head>
<body class="bg-gray-100 min-h-screen pb-20">

    <!-- Header & D-Day -->
    <header class="bg-gradient-to-r from-slate-900 to-blue-900 text-white shadow-xl sticky top-0 z-50">
        <div class="max-w-[95%] mx-auto px-4 py-4"> 
            <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                <div>
                    <div class="flex items-center gap-2">
                        <i class="fas fa-futbol text-yellow-400 text-2xl"></i>
                        <h1 class="text-2xl font-black tracking-tight">2026 FIFA ÏõîÎìúÏªµ</h1>
                    </div>
                    <p class="text-blue-200 text-xs mt-1 font-medium ml-8">üìÖ ÌïúÍµ≠ÏãúÍ∞Ñ(KST) Í∏∞Ï§Ä</p>
                </div>
                
                <div class="flex items-center gap-3">
                    <button onclick="downloadAllICS()" class="bg-yellow-500 hover:bg-yellow-600 text-white text-xs md:text-sm font-bold py-2 px-4 rounded-full shadow-lg transition flex items-center gap-2">
                        <i class="fas fa-download"></i>
                        <span>Ï†ÑÏ≤¥ ÏùºÏ†ï Îã§Ïö¥Î°úÎìú (.ics)</span>
                    </button>
                    <!-- D-Day Counter -->
                    <div class="bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full border border-white/20 hidden md:block">
                        <span id="d-day" class="text-lg font-bold text-yellow-400 font-mono">D-000</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Controls & Filters -->
    <div class="max-w-[95%] mx-auto mt-6 px-4 space-y-4"> 
        
        <!-- Search & View Toggle -->
        <div class="flex flex-col md:flex-row gap-4 justify-between bg-white p-4 rounded-xl shadow-sm">
            <div class="relative flex-grow max-w-md">
                <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                <input type="text" id="search-input" placeholder="Íµ≠Í∞ÄÎ™Ö/Ï°∞ Í≤ÄÏÉâ (Ïòà: ÎåÄÌïúÎØºÍµ≠, AÏ°∞)" 
                       class="w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition">
            </div>
            
            <div class="flex bg-gray-100 p-1 rounded-lg">
                <button onclick="switchView('list')" id="btn-list" class="flex-1 px-4 py-2 rounded-md text-sm font-bold shadow-sm bg-white text-gray-800 transition">
                    <i class="fas fa-list mr-1"></i> Î¶¨Ïä§Ìä∏
                </button>
                <button onclick="switchView('calendar')" id="btn-calendar" class="flex-1 px-4 py-2 rounded-md text-sm font-bold text-gray-500 hover:text-gray-700 transition">
                    <i class="far fa-calendar-alt mr-1"></i> Îã¨Î†•
                </button>
            </div>
        </div>

        <!-- Group Filter -->
        <div id="filter-container" class="bg-white p-4 rounded-xl shadow-sm overflow-x-auto transition-all duration-300">
            <h3 class="text-xs font-bold text-gray-400 mb-2 uppercase">Groups</h3>
            <div class="flex gap-2 min-w-max" id="group-filters">
                <button onclick="filterMatches('ALL')" class="filter-btn bg-gray-800 text-white px-3 py-1.5 rounded-lg text-sm font-bold shadow-md transition">Ï†ÑÏ≤¥</button>
                <!-- Group Buttons injected here -->
            </div>
        </div>
    </div>

    <!-- Main Content Area -->
    <div class="max-w-[95%] mx-auto mt-6 px-4 relative min-h-[500px]"> 
        
        <!-- List View -->
        <div id="list-view" class="visible-transition">
            <div id="match-list-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"> 
                <!-- Cards injected here -->
            </div>
            <div id="no-results-list" class="hidden text-center py-20">
                <i class="fas fa-search-minus text-4xl text-gray-300 mb-3"></i>
                <p class="text-gray-500">Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä ÏóÜÏäµÎãàÎã§.</p>
            </div>
        </div>

        <!-- Calendar View -->
        <div id="calendar-view" class="hidden-transition">
            <div class="bg-white rounded-xl shadow-sm overflow-hidden border border-gray-200">
                <div class="p-4 border-b border-gray-200 flex justify-between items-center bg-gray-50">
                    <div class="flex items-center gap-4">
                        <button onclick="changeMonth(-1)" id="prev-month-btn" class="cal-nav-btn"><i class="fas fa-chevron-left"></i></button>
                        <h2 class="text-lg font-bold text-gray-800 w-32 text-center" id="calendar-title">2026ÎÖÑ 6Ïõî</h2>
                        <button onclick="changeMonth(1)" id="next-month-btn" class="cal-nav-btn"><i class="fas fa-chevron-right"></i></button>
                    </div>
                </div>
                
                <!-- Scroll Wrapper for Responsive Calendar -->
                <div class="overflow-x-auto pb-2"> 
                    <div class="min-w-[1000px]"> 
                        <!-- Unified Calendar Grid -->
                        <div id="calendar-grid-container" class="calendar-grid">
                            <!-- Headers and Cells injected here together -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script>
        // --- Country Codes for Flag Icons (ISO 3166-1 alpha-2) ---
        const teamCodes = {
            "Î©ïÏãúÏΩî": "mx", "ÎÇ®ÏïÑÌîÑÎ¶¨Ïπ¥ Í≥µÌôîÍµ≠": "za", "ÎåÄÌïúÎØºÍµ≠": "kr", 
            "Ï∫êÎÇòÎã§": "ca", "Ïπ¥ÌÉÄÎ•¥": "qa", "Ïä§ÏúÑÏä§": "ch",
            "Î∏åÎùºÏßà": "br", "Î™®Î°úÏΩî": "ma", "ÏïÑÏù¥Ìã∞": "ht", "Ïä§ÏΩîÌãÄÎûúÎìú": "gb-sct",
            "ÎØ∏Íµ≠": "us", "ÌååÎùºÍ≥ºÏù¥": "py", "Ìò∏Ï£º": "au",
            "ÎèÖÏùº": "de", "ÌÄ¥ÎùºÏÜå": "cw", "ÏΩîÌä∏ÎîîÎ∂ÄÏïÑÎ•¥": "ci", "ÏóêÏΩ∞ÎèÑÎ•¥": "ec",
            "ÎÑ§ÎçúÎûÄÎìú": "nl", "ÏùºÎ≥∏": "jp", "ÌäÄÎãàÏßÄ": "tn",
            "Ïä§ÌéòÏù∏": "es", "Ïπ¥Î≥¥Î≤†Î•¥Îç∞": "cv", "ÏÇ¨Ïö∞Îîî ÏïÑÎùºÎπÑÏïÑ": "sa", "Ïö∞Î£®Í≥ºÏù¥": "uy",
            "Î≤®Í∏∞Ïóê": "be", "Ïù¥ÏßëÌä∏": "eg", "Ïù¥ÎûÄ": "ir", "Îâ¥ÏßàÎûúÎìú": "nz",
            "ÌîÑÎûëÏä§": "fr", "ÏÑ∏ÎÑ§Í∞à": "sn", "ÎÖ∏Î•¥Ïõ®Ïù¥": "no",
            "ÏïÑÎ•¥Ìó®Ìã∞ÎÇò": "ar", "ÏïåÏ†úÎ¶¨": "dz", "Ïò§Ïä§Ìä∏Î¶¨ÏïÑ": "at", "ÏöîÎ•¥Îã®": "jo",
            "Ìè¨Î•¥Ìà¨Í∞à": "pt", "Ïö∞Ï¶àÎ≤†ÌÇ§Ïä§ÌÉÑ": "uz", "ÏΩúÎ°¨ÎπÑÏïÑ": "co",
            "ÏûâÍ∏ÄÎûúÎìú": "gb-eng", "ÌÅ¨Î°úÏïÑÌã∞ÏïÑ": "hr", "Í∞ÄÎÇò": "gh", "ÌååÎÇòÎßà": "pa",
            // Placeholders / POs
            "UEFA PO A": "eu", "UEFA PO B": "eu", "UEFA PO C": "eu", "UEFA PO D": "eu",
            "ÎåÄÎ•ôÍ∞Ñ PO 1": "un", "ÎåÄÎ•ôÍ∞Ñ PO 2": "un" 
        };

        const getFlagHTML = (team) => {
            const code = teamCodes[team];
            if (code) {
                if (code === 'un' || code === 'eu') {
                    return `<i class="fas fa-globe text-gray-400 text-2xl"></i>`;
                }
                return `<span class="fi fi-${code} match-flag"></span>`;
            }
            return `<i class="far fa-flag text-gray-300"></i>`;
        };

        // --- Data (Ï°∞Î≥ÑÎ¶¨Í∑∏Îßå) ---
        const rawData = [
            // 6Ïõî 12Ïùº
            { id: 1, date: "6Ïõî 12Ïùº (Í∏à)", month: 6, day: 12, time: "04:00", team1: "Î©ïÏãúÏΩî", team2: "ÎÇ®ÏïÑÌîÑÎ¶¨Ïπ¥ Í≥µÌôîÍµ≠", group: "A", stadium: "Î©ïÏãúÏΩîÏãúÌã∞" },
            { id: 2, date: "6Ïõî 12Ïùº (Í∏à)", month: 6, day: 12, time: "11:00", team1: "ÎåÄÌïúÎØºÍµ≠", team2: "UEFA PO D", group: "A", stadium: "Í≥ºÎã¨ÎùºÌïòÎùº" },
            // 6Ïõî 13Ïùº
            { id: 3, date: "6Ïõî 13Ïùº (ÌÜ†)", month: 6, day: 13, time: "04:00", team1: "Ï∫êÎÇòÎã§", team2: "UEFA PO A", group: "B", stadium: "ÌÜ†Î°†ÌÜ†" },
            { id: 4, date: "6Ïõî 13Ïùº (ÌÜ†)", month: 6, day: 13, time: "10:00", team1: "ÎØ∏Íµ≠", team2: "ÌååÎùºÍ≥ºÏù¥", group: "D", stadium: "LA" },
            // 6Ïõî 14Ïùº
            { id: 5, date: "6Ïõî 14Ïùº (Ïùº)", month: 6, day: 14, time: "04:00", team1: "Ïπ¥ÌÉÄÎ•¥", team2: "Ïä§ÏúÑÏä§", group: "B", stadium: "SF Î≤†Ïù¥" },
            { id: 6, date: "6Ïõî 14Ïùº (Ïùº)", month: 6, day: 14, time: "07:00", team1: "Î∏åÎùºÏßà", team2: "Î™®Î°úÏΩî", group: "C", stadium: "NY/NJ" },
            { id: 7, date: "6Ïõî 14Ïùº (Ïùº)", month: 6, day: 14, time: "10:00", team1: "ÏïÑÏù¥Ìã∞", team2: "Ïä§ÏΩîÌãÄÎûúÎìú", group: "C", stadium: "Î≥¥Ïä§ÌÑ¥" },
            { id: 8, date: "6Ïõî 14Ïùº (Ïùº)", month: 6, day: 14, time: "13:00", team1: "Ìò∏Ï£º", team2: "UEFA PO C", group: "D", stadium: "Î∞¥Ïø†Î≤Ñ" },
            // 6Ïõî 15Ïùº
            { id: 9, date: "6Ïõî 15Ïùº (Ïõî)", month: 6, day: 15, time: "02:00", team1: "ÎèÖÏùº", team2: "ÌÄ¥ÎùºÏÜå", group: "E", stadium: "Ìú¥Ïä§ÌÑ¥" },
            { id: 10, date: "6Ïõî 15Ïùº (Ïõî)", month: 6, day: 15, time: "05:00", team1: "ÎÑ§ÎçúÎûÄÎìú", team2: "ÏùºÎ≥∏", group: "F", stadium: "ÎåàÎü¨Ïä§" },
            { id: 11, date: "6Ïõî 15Ïùº (Ïõî)", month: 6, day: 15, time: "08:00", team1: "ÏΩîÌä∏ÎîîÎ∂ÄÏïÑÎ•¥", team2: "ÏóêÏΩ∞ÎèÑÎ•¥", group: "E", stadium: "ÌïÑÎùºÎç∏ÌîºÏïÑ" },
            { id: 12, date: "6Ïõî 15Ïùº (Ïõî)", month: 6, day: 15, time: "11:00", team1: "UEFA PO B", team2: "ÌäÄÎãàÏßÄ", group: "F", stadium: "Î™¨ÌÖåÎ†àÏù¥" },
            // 6Ïõî 16Ïùº
            { id: 13, date: "6Ïõî 16Ïùº (Ìôî)", month: 6, day: 16, time: "01:00", team1: "Ïä§ÌéòÏù∏", team2: "Ïπ¥Î≥¥Î≤†Î•¥Îç∞", group: "H", stadium: "Ïï†ÌãÄÎûúÌÉÄ" },
            { id: 14, date: "6Ïõî 16Ïùº (Ìôî)", month: 6, day: 16, time: "04:00", team1: "Î≤®Í∏∞Ïóê", team2: "Ïù¥ÏßëÌä∏", group: "G", stadium: "ÏãúÏï†ÌãÄ" },
            { id: 15, date: "6Ïõî 16Ïùº (Ìôî)", month: 6, day: 16, time: "07:00", team1: "ÏÇ¨Ïö∞Îîî ÏïÑÎùºÎπÑÏïÑ", team2: "Ïö∞Î£®Í≥ºÏù¥", group: "H", stadium: "ÎßàÏù¥Ïï†ÎØ∏" },
            { id: 16, date: "6Ïõî 16Ïùº (Ìôî)", month: 6, day: 16, time: "10:00", team1: "Ïù¥ÎûÄ", team2: "Îâ¥ÏßàÎûúÎìú", group: "G", stadium: "LA" },
            // 6Ïõî 17Ïùº
            { id: 17, date: "6Ïõî 17Ïùº (Ïàò)", month: 6, day: 17, time: "04:00", team1: "ÌîÑÎûëÏä§", team2: "ÏÑ∏ÎÑ§Í∞à", group: "I", stadium: "NY/NJ" },
            { id: 18, date: "6Ïõî 17Ïùº (Ïàò)", month: 6, day: 17, time: "07:00", team1: "ÎåÄÎ•ôÍ∞Ñ PO 2", team2: "ÎÖ∏Î•¥Ïõ®Ïù¥", group: "I", stadium: "Î≥¥Ïä§ÌÑ¥" },
            { id: 19, date: "6Ïõî 17Ïùº (Ïàò)", month: 6, day: 17, time: "10:00", team1: "ÏïÑÎ•¥Ìó®Ìã∞ÎÇò", team2: "ÏïåÏ†úÎ¶¨", group: "J", stadium: "Ï∫îÏûêÏä§ÏãúÌã∞" },
            { id: 20, date: "6Ïõî 17Ïùº (Ïàò)", month: 6, day: 17, time: "13:00", team1: "Ïò§Ïä§Ìä∏Î¶¨ÏïÑ", team2: "ÏöîÎ•¥Îã®", group: "J", stadium: "SF Î≤†Ïù¥" },
            // 6Ïõî 18Ïùº
            { id: 21, date: "6Ïõî 18Ïùº (Î™©)", month: 6, day: 18, time: "02:00", team1: "Ìè¨Î•¥Ìà¨Í∞à", team2: "ÎåÄÎ•ôÍ∞Ñ PO 1", group: "K", stadium: "Ìú¥Ïä§ÌÑ¥" },
            { id: 22, date: "6Ïõî 18Ïùº (Î™©)", month: 6, day: 18, time: "05:00", team1: "ÏûâÍ∏ÄÎûúÎìú", team2: "ÌÅ¨Î°úÏïÑÌã∞ÏïÑ", group: "L", stadium: "ÎåàÎü¨Ïä§" },
            { id: 23, date: "6Ïõî 18Ïùº (Î™©)", month: 6, day: 18, time: "08:00", team1: "Í∞ÄÎÇò", team2: "ÌååÎÇòÎßà", group: "L", stadium: "ÌÜ†Î°†ÌÜ†" },
            { id: 24, date: "6Ïõî 18Ïùº (Î™©)", month: 6, day: 18, time: "11:00", team1: "Ïö∞Ï¶àÎ≤†ÌÇ§Ïä§ÌÉÑ", team2: "ÏΩúÎ°¨ÎπÑÏïÑ", group: "K", stadium: "Î©ïÏãúÏΩîÏãúÌã∞" },
            // 6Ïõî 19Ïùº
            { id: 25, date: "6Ïõî 19Ïùº (Í∏à)", month: 6, day: 19, time: "01:00", team1: "UEFA PO D", team2: "ÎÇ®ÏïÑÌîÑÎ¶¨Ïπ¥ Í≥µÌôîÍµ≠", group: "A", stadium: "Ïï†ÌãÄÎûúÌÉÄ" },
            { id: 26, date: "6Ïõî 19Ïùº (Í∏à)", month: 6, day: 19, time: "04:00", team1: "Ïä§ÏúÑÏä§", team2: "UEFA PO A", group: "B", stadium: "LA" },
            { id: 27, date: "6Ïõî 19Ïùº (Í∏à)", month: 6, day: 19, time: "07:00", team1: "Ï∫êÎÇòÎã§", team2: "Ïπ¥ÌÉÄÎ•¥", group: "B", stadium: "Î∞¥Ïø†Î≤Ñ" },
            { id: 28, date: "6Ïõî 19Ïùº (Í∏à)", month: 6, day: 19, time: "10:00", team1: "Î©ïÏãúÏΩî", team2: "ÎåÄÌïúÎØºÍµ≠", group: "A", stadium: "Í≥ºÎã¨ÎùºÌïòÎùº" },
            // 6Ïõî 20Ïùº
            { id: 29, date: "6Ïõî 20Ïùº (ÌÜ†)", month: 6, day: 20, time: "04:00", team1: "ÎØ∏Íµ≠", team2: "Ìò∏Ï£º", group: "D", stadium: "ÏãúÏï†ÌãÄ" },
            { id: 30, date: "6Ïõî 20Ïùº (ÌÜ†)", month: 6, day: 20, time: "07:00", team1: "Ïä§ÏΩîÌãÄÎûúÎìú", team2: "Î™®Î°úÏΩî", group: "C", stadium: "Î≥¥Ïä§ÌÑ¥" },
            { id: 31, date: "6Ïõî 20Ïùº (ÌÜ†)", month: 6, day: 20, time: "10:00", team1: "Î∏åÎùºÏßà", team2: "ÏïÑÏù¥Ìã∞", group: "C", stadium: "ÌïÑÎùºÎç∏ÌîºÏïÑ" },
            { id: 32, date: "6Ïõî 20Ïùº (ÌÜ†)", month: 6, day: 20, time: "13:00", team1: "UEFA PO C", team2: "ÌååÎùºÍ≥ºÏù¥", group: "D", stadium: "SF Î≤†Ïù¥" },
            // 6Ïõî 21Ïùº
            { id: 33, date: "6Ïõî 21Ïùº (Ïùº)", month: 6, day: 21, time: "02:00", team1: "ÎÑ§ÎçúÎûÄÎìú", team2: "UEFA PO B", group: "F", stadium: "Ìú¥Ïä§ÌÑ¥" },
            { id: 34, date: "6Ïõî 21Ïùº (Ïùº)", month: 6, day: 21, time: "05:00", team1: "ÎèÖÏùº", team2: "ÏΩîÌä∏ÎîîÎ∂ÄÏïÑÎ•¥", group: "E", stadium: "ÌÜ†Î°†ÌÜ†" },
            { id: 35, date: "6Ïõî 21Ïùº (Ïùº)", month: 6, day: 21, time: "09:00", team1: "ÏóêÏΩ∞ÎèÑÎ•¥", team2: "ÌÄ¥ÎùºÏÜå", group: "E", stadium: "Ï∫îÏûêÏä§ÏãúÌã∞" },
            { id: 36, date: "6Ïõî 21Ïùº (Ïùº)", month: 6, day: 21, time: "13:00", team1: "ÌäÄÎãàÏßÄ", team2: "ÏùºÎ≥∏", group: "F", stadium: "Î™¨ÌÖåÎ†àÏù¥" },
            // 6Ïõî 22Ïùº
            { id: 37, date: "6Ïõî 22Ïùº (Ïõî)", month: 6, day: 22, time: "01:00", team1: "Ïä§ÌéòÏù∏", team2: "ÏÇ¨Ïö∞Îîî ÏïÑÎùºÎπÑÏïÑ", group: "H", stadium: "Ïï†ÌãÄÎûúÌÉÄ" },
            { id: 38, date: "6Ïõî 22Ïùº (Ïõî)", month: 6, day: 22, time: "04:00", team1: "Î≤®Í∏∞Ïóê", team2: "Ïù¥ÎûÄ", group: "G", stadium: "LA" },
            { id: 39, date: "6Ïõî 22Ïùº (Ïõî)", month: 6, day: 22, time: "07:00", team1: "Ïö∞Î£®Í≥ºÏù¥", team2: "Ïπ¥Î≥¥Î≤†Î•¥Îç∞", group: "H", stadium: "ÎßàÏù¥Ïï†ÎØ∏" },
            { id: 40, date: "6Ïõî 22Ïùº (Ïõî)", month: 6, day: 22, time: "10:00", team1: "Îâ¥ÏßàÎûúÎìú", team2: "Ïù¥ÏßëÌä∏", group: "G", stadium: "Î∞¥Ïø†Î≤Ñ" },
            // 6Ïõî 23Ïùº
            { id: 41, date: "6Ïõî 23Ïùº (Ìôî)", month: 6, day: 23, time: "02:00", team1: "ÏïÑÎ•¥Ìó®Ìã∞ÎÇò", team2: "Ïò§Ïä§Ìä∏Î¶¨ÏïÑ", group: "J", stadium: "ÎåàÎü¨Ïä§" },
            { id: 42, date: "6Ïõî 23Ïùº (Ìôî)", month: 6, day: 23, time: "06:00", team1: "ÌîÑÎûëÏä§", team2: "ÎåÄÎ•ôÍ∞Ñ PO 2", group: "I", stadium: "ÌïÑÎùºÎç∏ÌîºÏïÑ" },
            { id: 43, date: "6Ïõî 23Ïùº (Ìôî)", month: 6, day: 23, time: "09:00", team1: "ÎÖ∏Î•¥Ïõ®Ïù¥", team2: "ÏÑ∏ÎÑ§Í∞à", group: "I", stadium: "NY/NJ" },
            { id: 44, date: "6Ïõî 23Ïùº (Ìôî)", month: 6, day: 23, time: "12:00", team1: "ÏöîÎ•¥Îã®", team2: "ÏïåÏ†úÎ¶¨", group: "J", stadium: "SF Î≤†Ïù¥" },
            // 6Ïõî 24Ïùº
            { id: 45, date: "6Ïõî 24Ïùº (Ïàò)", month: 6, day: 24, time: "02:00", team1: "Ìè¨Î•¥Ìà¨Í∞à", team2: "Ïö∞Ï¶àÎ≤†ÌÇ§Ïä§ÌÉÑ", group: "K", stadium: "Ìú¥Ïä§ÌÑ¥" },
            { id: 46, date: "6Ïõî 24Ïùº (Ïàò)", month: 6, day: 24, time: "05:00", team1: "ÏûâÍ∏ÄÎûúÎìú", team2: "Í∞ÄÎÇò", group: "L", stadium: "Î≥¥Ïä§ÌÑ¥" },
            { id: 47, date: "6Ïõî 24Ïùº (Ïàò)", month: 6, day: 24, time: "08:00", team1: "ÌååÎÇòÎßà", team2: "ÌÅ¨Î°úÏïÑÌã∞ÏïÑ", group: "L", stadium: "ÌÜ†Î°†ÌÜ†" },
            { id: 48, date: "6Ïõî 24Ïùº (Ïàò)", month: 6, day: 24, time: "11:00", team1: "ÏΩúÎ°¨ÎπÑÏïÑ", team2: "ÎåÄÎ•ôÍ∞Ñ PO 1", group: "K", stadium: "Í≥ºÎã¨ÎùºÌïòÎùº" },
            // 6Ïõî 25Ïùº
            { id: 49, date: "6Ïõî 25Ïùº (Î™©)", month: 6, day: 25, time: "04:00", team1: "Ïä§ÏúÑÏä§", team2: "Ï∫êÎÇòÎã§", group: "B", stadium: "Î∞¥Ïø†Î≤Ñ" },
            { id: 50, date: "6Ïõî 25Ïùº (Î™©)", month: 6, day: 25, time: "04:00", team1: "UEFA PO A", team2: "Ïπ¥ÌÉÄÎ•¥", group: "B", stadium: "ÏãúÏï†ÌãÄ" },
            { id: 51, date: "6Ïõî 25Ïùº (Î™©)", month: 6, day: 25, time: "07:00", team1: "Ïä§ÏΩîÌãÄÎûúÎìú", team2: "Î∏åÎùºÏßà", group: "C", stadium: "ÎßàÏù¥Ïï†ÎØ∏" },
            { id: 52, date: "6Ïõî 25Ïùº (Î™©)", month: 6, day: 25, time: "07:00", team1: "Î™®Î°úÏΩî", team2: "ÏïÑÏù¥Ìã∞", group: "C", stadium: "Ïï†ÌãÄÎûúÌÉÄ" },
            { id: 53, date: "6Ïõî 25Ïùº (Î™©)", month: 6, day: 25, time: "10:00", team1: "UEFA PO D", team2: "Î©ïÏãúÏΩî", group: "A", stadium: "Î©ïÏãúÏΩîÏãúÌã∞" },
            { id: 54, date: "6Ïõî 25Ïùº (Î™©)", month: 6, day: 25, time: "10:00", team1: "ÎÇ®ÏïÑÌîÑÎ¶¨Ïπ¥ Í≥µÌôîÍµ≠", team2: "ÎåÄÌïúÎØºÍµ≠", group: "A", stadium: "Î™¨ÌÖåÎ†àÏù¥" },
            // 6Ïõî 26Ïùº
            { id: 55, date: "6Ïõî 26Ïùº (Í∏à)", month: 6, day: 26, time: "05:00", team1: "ÏóêÏΩ∞ÎèÑÎ•¥", team2: "ÎèÖÏùº", group: "E", stadium: "NY/NJ" },
            { id: 56, date: "6Ïõî 26Ïùº (Í∏à)", month: 6, day: 26, time: "05:00", team1: "ÌÄ¥ÎùºÏÜå", team2: "ÏΩîÌä∏ÎîîÎ∂ÄÏïÑÎ•¥", group: "E", stadium: "ÌïÑÎùºÎç∏ÌîºÏïÑ" },
            { id: 57, date: "6Ïõî 26Ïùº (Í∏à)", month: 6, day: 26, time: "08:00", team1: "ÌäÄÎãàÏßÄ", team2: "ÎÑ§ÎçúÎûÄÎìú", group: "F", stadium: "ÎåàÎü¨Ïä§" },
            { id: 58, date: "6Ïõî 26Ïùº (Í∏à)", month: 6, day: 26, time: "08:00", team1: "ÏùºÎ≥∏", team2: "UEFA PO B", group: "F", stadium: "Ï∫îÏûêÏä§ÏãúÌã∞" },
            { id: 59, date: "6Ïõî 26Ïùº (Í∏à)", month: 6, day: 26, time: "11:00", team1: "UEFA PO C", team2: "ÎØ∏Íµ≠", group: "D", stadium: "LA" },
            { id: 60, date: "6Ïõî 26Ïùº (Í∏à)", month: 6, day: 26, time: "11:00", team1: "ÌååÎùºÍ≥ºÏù¥", team2: "Ìò∏Ï£º", group: "D", stadium: "SF Î≤†Ïù¥" },
            // 6Ïõî 27Ïùº
            { id: 61, date: "6Ïõî 27Ïùº (ÌÜ†)", month: 6, day: 27, time: "04:00", team1: "ÎÖ∏Î•¥Ïõ®Ïù¥", team2: "ÌîÑÎûëÏä§", group: "I", stadium: "Î≥¥Ïä§ÌÑ¥" },
            { id: 62, date: "6Ïõî 27Ïùº (ÌÜ†)", month: 6, day: 27, time: "04:00", team1: "ÏÑ∏ÎÑ§Í∞à", team2: "ÎåÄÎ•ôÍ∞Ñ PO 2", group: "I", stadium: "ÌÜ†Î°†ÌÜ†" },
            { id: 63, date: "6Ïõî 27Ïùº (ÌÜ†)", month: 6, day: 27, time: "09:00", team1: "Ïö∞Î£®Í≥ºÏù¥", team2: "Ïä§ÌéòÏù∏", group: "H", stadium: "Í≥ºÎã¨ÎùºÌïòÎùº" },
            { id: 64, date: "6Ïõî 27Ïùº (ÌÜ†)", month: 6, day: 27, time: "09:00", team1: "Ïπ¥Î≥¥Î≤†Î•¥Îç∞", team2: "ÏÇ¨Ïö∞Îîî ÏïÑÎùºÎπÑÏïÑ", group: "H", stadium: "Ìú¥Ïä§ÌÑ¥" },
            { id: 65, date: "6Ïõî 27Ïùº (ÌÜ†)", month: 6, day: 27, time: "12:00", team1: "Îâ¥ÏßàÎûúÎìú", team2: "Î≤®Í∏∞Ïóê", group: "G", stadium: "Î∞¥Ïø†Î≤Ñ" },
            { id: 66, date: "6Ïõî 27Ïùº (ÌÜ†)", month: 6, day: 27, time: "12:00", team1: "Ïù¥ÏßëÌä∏", team2: "Ïù¥ÎûÄ", group: "G", stadium: "ÏãúÏï†ÌãÄ" },
            // 6Ïõî 28Ïùº
            { id: 67, date: "6Ïõî 28Ïùº (Ïùº)", month: 6, day: 28, time: "06:00", team1: "ÌååÎÇòÎßà", team2: "ÏûâÍ∏ÄÎûúÎìú", group: "L", stadium: "NY/NJ" },
            { id: 68, date: "6Ïõî 28Ïùº (Ïùº)", month: 6, day: 28, time: "06:00", team1: "ÌÅ¨Î°úÏïÑÌã∞ÏïÑ", team2: "Í∞ÄÎÇò", group: "L", stadium: "ÌïÑÎùºÎç∏ÌîºÏïÑ" },
            { id: 69, date: "6Ïõî 28Ïùº (Ïùº)", month: 6, day: 28, time: "08:30", team1: "ÏΩúÎ°¨ÎπÑÏïÑ", team2: "Ìè¨Î•¥Ìà¨Í∞à", group: "K", stadium: "ÎßàÏù¥Ïï†ÎØ∏" },
            { id: 70, date: "6Ïõî 28Ïùº (Ïùº)", month: 6, day: 28, time: "08:30", team1: "ÎåÄÎ•ôÍ∞Ñ PO 1", team2: "Ïö∞Ï¶àÎ≤†ÌÇ§Ïä§ÌÉÑ", group: "K", stadium: "Ïï†ÌãÄÎûúÌÉÄ" },
            { id: 71, date: "6Ïõî 28Ïùº (Ïùº)", month: 6, day: 28, time: "11:00", team1: "ÏöîÎ•¥Îã®", team2: "ÏïÑÎ•¥Ìó®Ìã∞ÎÇò", group: "J", stadium: "ÎåàÎü¨Ïä§" },
            { id: 72, date: "6Ïõî 28Ïùº (Ïùº)", month: 6, day: 28, time: "11:00", team1: "ÏïåÏ†úÎ¶¨", team2: "Ïò§Ïä§Ìä∏Î¶¨ÏïÑ", group: "J", stadium: "Ï∫îÏûêÏä§ÏãúÌã∞" }
        ];

        // --- State Management ---
        let currentGroup = 'ALL';
        let searchQuery = '';
        let currentView = 'list';
        let currentMonth = 6; 

        // --- DOM Elements ---
        const matchListContainer = document.getElementById('match-list-container');
        const calendarGridContainer = document.getElementById('calendar-grid-container');
        const calendarTitle = document.getElementById('calendar-title');
        const searchInput = document.getElementById('search-input');
        const groupFilters = document.getElementById('group-filters');
        const listViewDiv = document.getElementById('list-view');
        const calendarViewDiv = document.getElementById('calendar-view');
        const noResultsList = document.getElementById('no-results-list');
        const dDayElement = document.getElementById('d-day');
        const prevMonthBtn = document.getElementById('prev-month-btn');
        const nextMonthBtn = document.getElementById('next-month-btn');

        // --- Init ---
        function init() {
            renderGroupButtons();
            renderList();
            renderCalendar();
            calculateDDay();
            
            searchInput.addEventListener('input', (e) => {
                searchQuery = e.target.value.toLowerCase();
                renderList(); 
            });
        }

        // --- All Schedule Download (Merged ICS) ---
        function downloadAllICS() {
            let events = "";
            const year = 2026;
            const now = new Date().toISOString().replace(/[-:.]/g, '');

            rawData.forEach(match => {
                const monthStr = match.month < 10 ? `0${match.month}` : `${match.month}`;
                const dayStr = match.day < 10 ? `0${match.day}` : `${match.day}`;
                const parts = match.time.split(':');
                const hour = parts[0];
                const minute = parts[1];
                
                const startStr = `${year}${monthStr}${dayStr}T${hour}${minute}00`;
                const endHour = parseInt(hour) + 2;
                const endStr = `${year}${monthStr}${dayStr}T${endHour < 10 ? '0'+endHour : endHour}${minute}00`;

                const summary = `[ÏõîÎìúÏªµ] ${match.team1} vs ${match.team2}`;
                const description = `Group ${match.group} Í≤ΩÍ∏∞\nÍ≤ΩÍ∏∞Ïû•: ${match.stadium}`;
                const location = match.stadium;
                const uid = `${match.id}@wc2026.com`;

                events += `BEGIN:VEVENT
UID:${uid}
DTSTAMP:${now}
DTSTART:${startStr}
DTEND:${endStr}
SUMMARY:${summary}
DESCRIPTION:${description}
LOCATION:${location}
END:VEVENT
`;
            });

            const icsContent = `BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//WC2026//FullSchedule//KO
CALSCALE:GREGORIAN
METHOD:PUBLISH
X-WR-CALNAME:2026 ÏõîÎìúÏªµ Ï†ÑÏ≤¥ ÏùºÏ†ï
${events}END:VCALENDAR`;

            const blob = new Blob([icsContent], { type: 'text/calendar;charset=utf-8' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = `wc2026_full_schedule.ics`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        function calculateDDay() {
            const today = new Date();
            const target = new Date('2026-06-12T00:00:00+09:00'); 
            const diff = target - today;
            const days = Math.ceil(diff / (1000 * 60 * 60 * 24));
            dDayElement.innerText = days > 0 ? `D-${days}` : (days === 0 ? "D-Day" : "ÏßÑÌñâÏ§ë");
        }

        window.switchView = function(view) {
            currentView = view;
            const btnList = document.getElementById('btn-list');
            const btnCalendar = document.getElementById('btn-calendar');

            if (view === 'list') {
                listViewDiv.classList.remove('hidden-transition');
                listViewDiv.classList.add('visible-transition');
                calendarViewDiv.classList.add('hidden-transition');
                calendarViewDiv.classList.remove('visible-transition');
                
                btnList.classList.add('bg-white', 'text-gray-800', 'shadow-sm');
                btnList.classList.remove('text-gray-500');
                btnCalendar.classList.remove('bg-white', 'text-gray-800', 'shadow-sm');
                btnCalendar.classList.add('text-gray-500');
            } else {
                listViewDiv.classList.add('hidden-transition');
                listViewDiv.classList.remove('visible-transition');
                calendarViewDiv.classList.remove('hidden-transition');
                calendarViewDiv.classList.add('visible-transition');
                
                btnCalendar.classList.add('bg-white', 'text-gray-800', 'shadow-sm');
                btnCalendar.classList.remove('text-gray-500');
                btnList.classList.remove('bg-white', 'text-gray-800', 'shadow-sm');
                btnList.classList.add('text-gray-500');
            }
        }

        window.changeMonth = function(delta) {
            currentMonth += delta;
            if (currentMonth < 6) currentMonth = 6;
            if (currentMonth > 6) currentMonth = 6; // Only June has groups
            renderCalendar();
        }

        function renderGroupButtons() {
            const groups = [...new Set(rawData.map(m => m.group))].sort();
            groups.forEach(group => {
                const btn = document.createElement('button');
                btn.className = 'filter-btn bg-white text-gray-600 border border-gray-200 px-3 py-1.5 rounded-lg text-sm font-bold hover:bg-blue-50 hover:text-blue-600 transition';
                btn.innerText = `Group ${group}`;
                btn.onclick = () => filterMatches(group);
                groupFilters.appendChild(btn);
            });
        }

        window.filterMatches = function(group) {
            currentGroup = group;
            const buttons = document.querySelectorAll('.filter-btn');
            buttons.forEach(btn => {
                let isActive = false;
                if (group === 'ALL' && btn.innerText === 'Ï†ÑÏ≤¥') isActive = true;
                if (btn.innerText === `Group ${group}`) isActive = true;

                if (isActive) {
                    btn.className = 'filter-btn bg-gray-800 text-white px-3 py-1.5 rounded-lg text-sm font-bold shadow-md transition';
                } else {
                    btn.className = 'filter-btn bg-white text-gray-600 border border-gray-200 px-3 py-1.5 rounded-lg text-sm font-bold hover:bg-blue-50 hover:text-blue-600 transition';
                }
            });
            renderList();
            renderCalendar(); 
        }

        function renderList() {
            let filtered = rawData;
            
            if (currentGroup !== 'ALL') {
                filtered = filtered.filter(m => m.group === currentGroup);
            }

            if (searchQuery) {
                filtered = filtered.filter(m => 
                    m.team1.toLowerCase().includes(searchQuery) || 
                    m.team2.toLowerCase().includes(searchQuery) ||
                    m.stadium.toLowerCase().includes(searchQuery) ||
                    (searchQuery.includes('Ï°∞') && m.group.toLowerCase() === searchQuery.replace('Ï°∞','').toLowerCase())
                );
            }

            matchListContainer.innerHTML = '';
            
            if (filtered.length === 0) {
                noResultsList.classList.remove('hidden');
            } else {
                noResultsList.classList.add('hidden');
            }

            filtered.forEach(match => {
                const isKorea = match.team1 === 'ÎåÄÌïúÎØºÍµ≠' || match.team2 === 'ÎåÄÌïúÎØºÍµ≠';
                
                const card = document.createElement('div');
                card.className = `bg-white rounded-xl p-4 shadow-sm border border-gray-100 flex flex-col justify-between hover:shadow-md transition-shadow 
                    ${isKorea ? 'korea-match' : ''}`;
                
                card.innerHTML = `
                    <div class="flex justify-between items-center mb-3">
                        <span class="text-xs font-black text-blue-500 uppercase">Group ${match.group}</span>
                    </div>
                    
                    <div class="flex items-center justify-between mb-3">
                        <div class="w-5/12 text-center">
                            <div class="mb-2 flex justify-center">${getFlagHTML(match.team1)}</div>
                            <div class="font-bold text-gray-800 text-sm md:text-base break-words leading-tight ${match.team1==='ÎåÄÌïúÎØºÍµ≠'?'text-blue-700':''}">${match.team1}</div>
                        </div>
                        <div class="w-2/12 text-center text-xs text-gray-400 font-bold">VS</div>
                        <div class="w-5/12 text-center">
                            <div class="mb-2 flex justify-center">${getFlagHTML(match.team2)}</div>
                            <div class="font-bold text-gray-800 text-sm md:text-base break-words leading-tight ${match.team2==='ÎåÄÌïúÎØºÍµ≠'?'text-blue-700':''}">${match.team2}</div>
                        </div>
                    </div>

                    <div class="mt-auto pt-2 border-t border-gray-50 flex justify-between items-center">
                        <div class="flex flex-col">
                            <span class="text-xs text-gray-500 font-medium">${match.date}</span>
                            <span class="text-xs text-gray-400 mt-0.5">üìç ${match.stadium}</span>
                        </div>
                        <span class="text-sm font-bold text-gray-900 bg-gray-100 px-2 py-0.5 rounded">${match.time}</span>
                    </div>
                `;
                matchListContainer.appendChild(card);
            });
        }

        function renderCalendar() {
            calendarTitle.innerText = `2026ÎÖÑ ${currentMonth}Ïõî`;
            prevMonthBtn.disabled = true; // Fixed to June
            nextMonthBtn.disabled = true;
            
            calendarGridContainer.innerHTML = '';

            // 1. Headers (Inject first)
            const daysOfWeek = ['Ïùº', 'Ïõî', 'Ìôî', 'Ïàò', 'Î™©', 'Í∏à', 'ÌÜ†'];
            daysOfWeek.forEach((day, index) => {
                const header = document.createElement('div');
                header.className = 'calendar-header-cell';
                if (index === 0) header.classList.add('text-red-500');
                if (index === 6) header.classList.add('text-blue-500');
                header.innerText = day;
                calendarGridContainer.appendChild(header);
            });

            // 2. Empty slots (June 1st is Mon => 1 empty slot)
            const emptyStart = 1; 
            for(let i=0; i<emptyStart; i++) {
                const emptyCell = document.createElement('div');
                emptyCell.className = 'bg-gray-50 min-h-[100px] border-b border-gray-100'; // Match style if needed, or keep simpler
                calendarGridContainer.appendChild(emptyCell);
            }

            // 3. Days
            const totalDays = 30;
            for(let day=1; day<=totalDays; day++) {
                const cell = document.createElement('div');
                cell.className = 'calendar-day border-b border-r border-gray-100 relative group hover:bg-blue-50/30 transition';
                
                const dateNum = document.createElement('div');
                dateNum.className = 'text-xs font-bold text-gray-400 mb-1';
                dateNum.innerText = day;
                cell.appendChild(dateNum);

                const matches = rawData.filter(m => m.month === currentMonth && m.day === day);
                const matchContainer = document.createElement('div');
                matchContainer.className = 'flex flex-col gap-1';
                
                matches.forEach(m => {
                    const isKorea = m.team1 === 'ÎåÄÌïúÎØºÍµ≠' || m.team2 === 'ÎåÄÌïúÎØºÍµ≠';
                    const isDimmed = currentGroup !== 'ALL' && m.group !== currentGroup;
                    
                    const pill = document.createElement('div');
                    
                    let baseClass = 'bg-gray-100 text-gray-600';
                    if (isKorea) baseClass = 'korea-match-calendar';

                    pill.className = `block text-[10px] md:text-xs px-1.5 py-0.5 rounded truncate cursor-default transition ${baseClass} ${isDimmed ? 'dimmed' : ''}`;
                    
                    pill.innerHTML = `
                        <span class="font-bold mr-1">${m.time.split(':')[0]}Ïãú</span>
                        ${m.team1.substring(0,6)} vs ${m.team2.substring(0,6)}
                    `;
                    matchContainer.appendChild(pill);
                });

                cell.appendChild(matchContainer);
                calendarGridContainer.appendChild(cell);
            }
        }

        init();
    </script>
</body>
</html>